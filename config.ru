require_relative 'env'
require 'modules'

require 'rack/contrib'
require 'rack/csrf'

require 'sinatra/base'
require 'sinatra/config_file'
require 'sinatra/json'

require 'web/extensions/csrf_protection'
require 'web/controllers/base'
require 'web/controllers/static'
require 'web/controllers/modules'

map('/') { run Web::Controllers::Static }
map('/api') { run Web::Controllers::Base }
map('/api/modules') { run Web::Controllers::Modules }
