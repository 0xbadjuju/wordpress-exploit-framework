require_relative '../../env'

class CreateSessions < ActiveRecord::Migration
  def change
    create_table :sessions do |t|
      t.string    :module_path, limit: 500, required: true
      t.datetime  :created_at
    end

    create_table :session_events do |t|
      t.belongs_to  :session, index: true
      t.text        :message, required: true
      t.string      :level, limit: 15, required: true
      t.boolean     :verbose, default: false
    end
  end
end
