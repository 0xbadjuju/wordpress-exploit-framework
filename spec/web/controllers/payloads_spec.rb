require_relative '../../spec_helper'

describe Web::Controllers::Payloads do
  let(:app) { described_class }

  it_behaves_like 'a route controller'

  describe 'GET /' do
    it 'returns all payloads as JSON, containing the name, desc and options' do
      get '/'

      JSON.parse(last_response.body).each do |payload|
        expect(payload).to include('name', 'desc', 'options')
      end
    end
  end
end
