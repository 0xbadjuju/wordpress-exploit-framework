import { Component, OnInit }      from '@angular/core';
import { ActivatedRoute, Params } from '@angular/router';

import { Module }             from '../shared/module'
import { ModuleService }      from '../shared/module.service'
import { DataTableComponent } from '../../shared'

@Component({
  selector: 'module-list',
  moduleId: module.id,
  templateUrl: 'module-list.component.html'
})

export class ModuleListComponent implements OnInit {
  private modules: Module[];
  private loadedModules: number;
  private rowsPerPage: number;
  private currentPageIndex: number;
  private currentPage: Module[];
  private totalPages: number;

  constructor(
    private route: ActivatedRoute,
    private moduleService: ModuleService) {
  }

  ngOnInit(): void {
    this.route.params.forEach((params: Params) => {
      let type = params['type'];
      this.moduleService.getModules(type)
        .then(modules => this.bind(modules));
    });
  }

  loadModule(module: any): void {
    console.log(module);
  }

  private bind(modules: Module[]): void {
    this.modules = modules;
  }
}
